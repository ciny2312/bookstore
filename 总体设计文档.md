# 总体设计文档

## 功能设计
* 游客类
  注册用户
  登录用户

* 顾客类（继承自游客类）
  查询图书
  购买图书

* 销售人员类（继承自顾客类）
  进货
  图书信息录入
  图书信息修改
  用户创建

* 店长类（继承自销售人员类）
  查询采购信息
  查询销售信息
  查询盈利情况
  查询工作日志
  查询员工工作情况

* 图书管理类
  录入
  修改
  查询

## 用户交互设计
* 注册：
  输入：1 用户名 密码 用户权限
  输出：若用户名重复则报错，否则无输出
* 登录：
  输入：2 用户名 密码
  输出：若用户名与密码不对应则报错，否则无输出
* 查询图书：
  输入：
    3
    1 ISBN号
    2 书名
    3 作者
    4 关键字个数 关键字1 关键字2……
    0

  输出：若无对应图书或有多本对应图书，输出对应报错；否则按顺序输出该图书所有信息

* 购买图书：
  输入：4 ISBN码 购买数量
  输出：若购买数量大于库存量则报错，否则无输出
* 进货
  输入：5 ISBN码 数量 进货价格
  输出：若无此书则报错，否则无输出

* 图书信息录入
  输入：6 ISBN 号、书名、作者、关键字、库存量、单价
  输出：若ISBN码重复则报错，否则无输出

* 图书信息修改
  输入：7 书本在书库中的次序 1 修改后的ISBN码（2 书名）（3 作者）……
  输出：找不到此书则报错，否则无输出

* 用户创建
  输入：8 用户名 密码 账户权限
  输出：若用户名重复则报错，否则无输出

* 查询采购情况：
  输入：9 开始时间 截止时间
  输出：按顺序输出采购图书的 ISBN 号、数量、单价等

* 查询销售情况：
  输入：10 开始时间 截止时间
  输出：按顺序输出采购图书的 ISBN 号、数量、单价等

* 查询盈利情况：
  输入：11 开始时间 截止时间
  输出：收入 支出 盈利

* 查询员工工作情况：
  输入：12 用户名
  输出：若无此员工则报错，否则按操作顺序输出每次操作类型及其对象

* 查询全店工作日志：
  输入：13
  输出：按操作顺序输出每次操作类型及其对象

## 数据库设计

* 用户数据库：按用户名的字典序记录每个用户的信息，包括：用户名，密码，账户权限。
* 图书数据库：按第一次录入的时间顺序记录每本书的信息，包括：ISBN 号（string）、书名（string）、作者（string）、关键字（string[]）、库存量（int）、单价（double）
* 工作日志：按时间顺序记录系统整体工作
* 销售人员工作记录表：记录每个销售人员的工作记录在工作日志中的位置

## 类、结构体设计

* 游客类
  函数：注册用户、登录用户

* 顾客类（继承自游客类）
  变量：用户名，密码
  函数：查询图书，购买图书

* 销售人员类（继承自顾客类）
  函数：进货，图书信息录入，图书信息修改，用户创建

* 店长类（继承自销售人员类）
  函数：查询采购信息，查询销售信息，查询盈利情况，查询工作日志，查询员工工作情况

* 图书管理类
  函数：录入，修改（次序，1/2/3/4，修改值），查询